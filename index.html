<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–°–∫–æ–ª—å–∫–æ –ø—Ä–æ—à–ª–æ –≤—Ä–µ–º–µ–Ω–∏ —Å —Ç–≤–æ–µ–≥–æ —Ä–æ–∂–¥–µ–Ω–∏—è</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #89f7fe, #66a6ff);
      color: #222;
      text-align: center;
      padding: 20px;
    }
    .container {
      max-width: 700px;
      margin: auto;
      background: #fff;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    select, input, button {
      padding: 10px;
      margin: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    button {
      background: #4CAF50;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #45a049;
    }
    #result, #wikiData {
      margin-top: 20px;
      text-align: left;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h1>
    <p id="description">
      –≠—Ç–æ—Ç —Å–∞–π—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–≤–µ—Å—Ç–∏ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è –∏ —É–∑–Ω–∞—Ç—å:  
      <br>- –°–∫–æ–ª—å–∫–æ –¥–Ω–µ–π, —á–∞—Å–æ–≤, –º–∏–Ω—É—Ç –∏ —Å–µ–∫—É–Ω–¥ –ø—Ä–æ—à–ª–æ —Å –º–æ–º–µ–Ω—Ç–∞ —Ç–≤–æ–µ–≥–æ —Ä–æ–∂–¥–µ–Ω–∏—è  
      <br>- –°–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –ª–µ—Ç (—Å —É—á—ë—Ç–æ–º —Ç–æ—á–Ω–æ–π –¥–∞—Ç—ã)  
      <br>- –ö–∞–∫–∏–µ –∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç–∏ —Ä–æ–¥–∏–ª–∏—Å—å –≤ —Ç–æ—Ç –∂–µ –≥–æ–¥  
      <br>- –ö–∞–∫–∏–µ —Ñ–∏–ª—å–º—ã –∏ –ø–µ—Å–Ω–∏ –≤—ã—à–ª–∏ –≤ —Ç–≤–æ—ë–º –≥–æ–¥—É —Ä–æ–∂–¥–µ–Ω–∏—è
    </p>

    <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ -->
    <label for="lang">üåê –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫:</label>
    <select id="lang" onchange="changeLanguage()">
      <option value="ru">–†—É—Å—Å–∫–∏–π</option>
      <option value="en">English</option>
    </select>

    <br><br>
    <input type="date" id="birthdate">
    <button onclick="calculate()">
      –†–∞—Å—Å—á–∏—Ç–∞—Ç—å
    </button>

    <div id="result"></div>
    <div id="wikiData"></div>
  </div>

  <script>
    const translations = {
      ru: {
        title: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!",
        description: "–≠—Ç–æ—Ç —Å–∞–π—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–≤–µ—Å—Ç–∏ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è –∏ —É–∑–Ω–∞—Ç—å:\n- –°–∫–æ–ª—å–∫–æ –¥–Ω–µ–π, —á–∞—Å–æ–≤, –º–∏–Ω—É—Ç –∏ —Å–µ–∫—É–Ω–¥ –ø—Ä–æ—à–ª–æ —Å –º–æ–º–µ–Ω—Ç–∞ —Ç–≤–æ–µ–≥–æ —Ä–æ–∂–¥–µ–Ω–∏—è\n- –°–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –ª–µ—Ç (—Å —É—á—ë—Ç–æ–º —Ç–æ—á–Ω–æ–π –¥–∞—Ç—ã)\n- –ö–∞–∫–∏–µ –∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç–∏ —Ä–æ–¥–∏–ª–∏—Å—å –≤ —Ç–æ—Ç –∂–µ –≥–æ–¥\n- –ö–∞–∫–∏–µ —Ñ–∏–ª—å–º—ã –∏ –ø–µ—Å–Ω–∏ –≤—ã—à–ª–∏ –≤ —Ç–≤–æ—ë–º –≥–æ–¥—É —Ä–æ–∂–¥–µ–Ω–∏—è",
        button: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å",
        results: "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:",
        years: "–õ–µ—Ç",
        days: "–î–Ω–µ–π",
        hours: "–ß–∞—Å–æ–≤",
        minutes: "–ú–∏–Ω—É—Ç",
        seconds: "–°–µ–∫—É–Ω–¥",
        wiki: "Wikipedia"
      },
      en: {
        title: "Welcome!",
        description: "This website lets you enter your birthdate and find out:\n- How many days, hours, minutes and seconds have passed since your birth\n- Your exact age (with month/day)\n- Which famous people were born in the same year\n- Which movies and songs were released in your birth year",
        button: "Calculate",
        results: "Results:",
        years: "Years",
        days: "Days",
        hours: "Hours",
        minutes: "Minutes",
        seconds: "Seconds",
        wiki: "Wikipedia"
      }
    };

    function changeLanguage() {
      const lang = document.getElementById("lang").value;
      document.getElementById("title").innerText = translations[lang].title;
      document.getElementById("description").innerText = translations[lang].description;
      document.querySelector("button").innerText = translations[lang].button;
    }

    function calculate() {
      const birthdate = new Date(document.getElementById("birthdate").value);
      if (!birthdate || isNaN(birthdate)) return;

      const now = new Date();
      const diffMs = now - birthdate;

      // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç (—Å –º–µ—Å—è—Ü–µ–º –∏ –¥–Ω—ë–º)
      let years = now.getFullYear() - birthdate.getFullYear();
      const m = now.getMonth() - birthdate.getMonth();
      if (m < 0 || (m === 0 && now.getDate() < birthdate.getDate())) {
        years--;
      }

      const seconds = Math.floor(diffMs / 1000);
      const minutes = Math.floor(seconds / 60);
      const hours = Math.floor(minutes / 60);
      const days = Math.floor(hours / 24);

      const lang = document.getElementById("lang").value;
      const t = translations[lang];

      document.getElementById("result").innerHTML = `
        <h2>${t.results}</h2>
        <p>${t.years}: ${years}</p>
        <p>${t.days}: ${days}</p>
        <p>${t.hours}: ${hours}</p>
        <p>${t.minutes}: ${minutes}</p>
        <p>${t.seconds}: ${seconds}</p>
      `;

      loadWikiData(birthdate.getFullYear(), lang);
    }

    async function loadWikiData(year, lang) {
      try {
        const wikiLang = (lang === "ru") ? "ru" : "en";
        const res = await fetch(`https://${wikiLang}.wikipedia.org/api/rest_v1/page/summary/${year}`);
        const data = await res.json();

        const t = translations[lang];
        document.getElementById("wikiData").innerHTML = `
          <h2>${t.wiki} (${year}):</h2>
          <p>${data.extract || "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞."}</p>
          <a href="https://${wikiLang}.wikipedia.org/wiki/${year}" target="_blank">üîó ${t.wiki}</a>
        `;
      } catch (e) {
        document.getElementById("wikiData").innerText = "‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å Wikipedia.";
      }
    }
  </script>
</body>
</html>
